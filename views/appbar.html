<!-- 顶部导航栏 -->
<nav class="fixed top-0 left-0 right-0 z-40 bg-slate-900/90 backdrop-blur shadow-md border-b border-slate-800/50">
    <div class="max-w-7xl mx-auto px-4">
        <div class="flex items-center justify-between h-16">
            <!-- 左侧 Logo 和标题 -->
            <div class="flex items-center">
                <a href="/" class="flex items-center group">
              
                    <span class="text-xl font-medium text-white group-hover:text-blue-400 transition-colors ml-2">
                        {{setting.site.name}}
                    </span>
                </a>
            </div>

            <!-- 右侧按钮组 -->
            <div class="flex items-center space-x-3">
                <a href="/" class="flex items-center px-4 py-2 rounded-md text-slate-300 hover:text-white hover:bg-slate-800 transition-all relative group {%if title=='节点状态'%}text-blue-400 bg-slate-800{%endif%}">
                    <i class="material-icons text-[20px] mr-2">dashboard</i>
                    <span class="hidden md:inline text-base">节点状态</span>
                    {%if title=='节点状态'%}
                    <div class="absolute bottom-0 left-0 w-full h-0.5 bg-blue-500 rounded-full"></div>
                    {%endif%}
                </a>
                {%if admin%}
                <a href="/admin/servers" class="flex items-center px-4 py-2 rounded-md text-slate-300 hover:text-white hover:bg-slate-800 transition-all relative group {%if title=='管理服务器'%}text-blue-400 bg-slate-800{%endif%}">
                    <i class="material-icons text-[20px] mr-2">dns</i>
                    <span class="hidden md:inline text-base">服务器管理</span>
                    {%if title=='管理服务器'%}
                    <div class="absolute bottom-0 left-0 w-full h-0.5 bg-blue-500 rounded-full"></div>
                    {%endif%}
                </a>

                <a href="/admin/setting" class="flex items-center gap-2 px-4 py-2 rounded-md text-slate-300 hover:text-white hover:bg-slate-800 transition-all" title="系统设置">
                    <i class="material-icons text-[20px]">settings</i>
                    <span class="hidden md:inline text-base">设置</span>
                </a>
                <div class="w-px h-5 bg-slate-700/50 mx-2"></div>
                <a href="/logout" class="flex items-center gap-2 px-4 py-2 rounded-md text-slate-300 hover:text-white hover:bg-slate-800 transition-all" title="退出登录">
                    <i class="material-icons text-[20px]">logout</i>
                    <span class="hidden md:inline text-base">退出</span>
                </a>
                {%else%}
                <a href="/login" class="flex items-center gap-1.5 px-3 py-1.5 rounded-md text-slate-300 hover:text-white hover:bg-slate-800 transition-all" title="管理员登录">
                    <i class="material-icons md-16">admin_panel_settings</i>
                    <span class="hidden md:inline text-sm">登录</span>
                </a>
                {%endif%}
                
                

            </div>
        </div>
    </div>
</nav>

<!-- 为导航栏预留空间 -->
<div class="h-14"></div>

<style type="text/tailwindcss">
    @layer components {
        .material-icons { 
            display: block;
            line-height: 1;
            font-style: normal;
            letter-spacing: normal;
            text-transform: none;
            white-space: nowrap;
            word-wrap: normal;
            direction: ltr;
            -webkit-font-smoothing: antialiased;
        }
        .material-icons.md-16 { 
            font-size: 16px;
            line-height: 1;
        }
    }
</style>

{%block js%}
<script>
const theme = {
    dark: localStorage.getItem('theme') !== 'light',  // 直接从 localStorage 读取当前状态
    toggle() {
        this.dark = !this.dark;
        localStorage.setItem('theme', this.dark ? 'dark' : 'light');
        document.documentElement.classList.toggle('dark');
    }
};

// 主题切换函数
function toggleTheme() {
    theme.toggle();
}
</script>
{%endblock%}